/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'Renette' at '2015/05/28 9:24 PM' with Gradle 2.2.1
 *
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/2.2.1/userguide/tutorial_java_projects.html
 */

buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath('org.springframework.boot:spring-boot-gradle-plugin:1.2.4.RELEASE')
    }
}


apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'
apply plugin: 'spring-boot'

//Java 8 because the system uses LocalDateTime API
sourceCompatibility = 1.8
targetCompatibility = 1.8


jar {
    baseName = 'cosbas'
    version =  '0.0.1'
}

// In this section you declare where to find the dependencies of your project
repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url 'http://jasperreports.sourceforge.net/maven2'
    }
    maven {
        url 'http://jaspersoft.artifactoryonline.com/jaspersoft/third-party-ce-artifacts/'
    }
}


dependencies {

    compile  "org.springframework.boot:spring-boot-starter-jetty"
    compile  "org.springframework.boot:spring-boot-starter-thymeleaf"
    compile  "org.springframework:spring-context:4.1.6.RELEASE"
    compile  "org.springframework.security:spring-security-web:4.0.1.RELEASE"
    compile  "org.springframework.webflow:spring-webflow:2.4.0.RELEASE"
    compile  "org.springframework.session:spring-session:1.0.1.RELEASE"
    compile  "org.thymeleaf:thymeleaf:2.0.5"

    compile "com.google.api-client:google-api-client:1.20.0"
    compile "com.google.oauth-client:google-oauth-client-jetty:1.20.0"
    //compile "org.springframework.security.oauth:spring-security-oauth2:2.0.7.RELEASE"
    //compile 'org.springframework.security.oauth:spring-security-oauth:2.0.7.RELEASE'
    compile "com.google.apis:google-api-services-calendar:v3-rev126-1.20.0"
    compile "com.google.code.gson:gson:2.3.1"

    compile  "org.springframework.ldap:spring-ldap-core:2.0.3.RELEASE"
    compile "org.springframework:spring-tx"

    compile "org.bytedeco:javacv:0.9"

    //compile  "net.sf.jasperreports:jasperreports:6.1.0"


    compile "org.springframework.boot:spring-boot-starter-actuator"
    compile "org.springframework:spring-aop:4.2.0.RELEASE"
    compile "org.aspectj:aspectjtools:1.8.6"
    compile "org.aspectj:aspectjrt:1.8.6"
    compile "org.aspectj:aspectjweaver:1.8.6"
    compile 'org.apache.logging.log4j:log4j-core:2.3'
    compile 'org.apache.logging.log4j:log4j-api:2.3'




    compile "org.springframework.boot:spring-boot-starter-data-mongodb"
    compile 'org.springframework.data:spring-data-mongodb:1.7.1.RELEASE'


    //spring security
    compile "org.springframework.boot:spring-boot-starter-security"
    compile ("org.springframework.boot:spring-boot-starter-web"){
        exclude module: "spring-boot-starter-tomcat"
    }


    compile "org.springframework.security:spring-security-ldap"
    compile "org.apache.directory.server:apacheds-server-jndi:1.5.5"

    testCompile "junit:junit"
    testCompile "org.mockito:mockito-core:1.+"
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.3'
}

// All these stuff for jasper
 // TODO Thouroughly test build script with JAsper reports
/*
sourceSets {
    jasper
}

configurations.create('jasperreports')
configurations.jasperreports {
    transitive = true
}

classes.dependsOn compileJasperJava
*/
springBoot {
    mainClass = 'cosbas.web.Application'
}
